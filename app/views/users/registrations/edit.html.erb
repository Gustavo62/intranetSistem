<%= javascript_pack_tag "usuario_edit" %> 
<div id="papel_de_fundo" class="shadow p-3 mb-5 bg-white rounded" style="border-radius: 0px !important;"></div>
<%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
	<div id="foto_avatar">
		<div class="foto_user">
			<% if @user.avatar.attached? %>
				<%= image_tag(@user.avatar_thumbnail, class: 'shadow-sm mb-5 bg-white rounded foto_edit',id:"foto_edit" )%> 
			<% else %>
				<%= image_tag('default.png', class: 'shadow-sm mb-5 bg-white rounded foto_edit',id:"foto_edit" )%>
			<% end %> 
			<span class="foto_edit_edit" aria-hidden="true"><i class="fas fa-pen" style="padding:8px"></i></span>
			<%= f.file_field :avatar,style:"display:none",id:"admin_avatar",onchange:"loadFile(event)",class:"form-control"%>
		</div>
		<div class="nome_user">
			<h5><%= current_user.nome %></h5>
		</div>
	</div>  
	<div class="container" style="padding-bottom: 120px !important;">  
		<div class="form-group">
			<%= f.label :nome %><br />
			<%= f.text_field :nome,class:'form-control', required:true %>
		</div>
		<div class="form-group">
			<%= f.label :cpf %><br />
			<span id="cpfResponse"></span>
			<%= f.text_field :cpf, id:"cpf", type:"text", maxlength:"18",class:'form-control', required:true%>
		</div>

		<div class="form-group">
			<%= f.label :email %><br />
			<%= f.email_field :email,class:'form-control', required:true%>
		</div>

		<div class="form-group">
			<%= f.label :dica_para_senha %><br />
			<%= f.text_field :lembrete,class:'form-control', required:true%>
		</div>  
		<div class="form-group">
			<label style="width: 100%;">
				Nova senha
				<span style="float: right;">
					<% if @minimum_password_length %> 
						<em><%= @minimum_password_length %> Caracteres no m√≠nimo</em>
					<% end %>
				</span>
			</label> 
			<br/>
			<%= f.password_field :password, placeholder: "Nova senha",class:'form-control'%>
			<div class="progress" style="transition: 0.05s">
				<div class="progress-bar" id="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
			</div>
		</div>

		<div class="form-group">
			<label>Confirmar nova senha</label> <br />
			<%= f.password_field :password_confirmation, placeholder: "Confirmar nova senha",class:'form-control' %>
			<span id="user_password_c_errors" class="admin_cpf_errors"></span>
		</div>

		<div class="form-group">
			<label>Senha Atual</label><br />
			<%= f.password_field :current_password, placeholder: "Senha atual",class:'form-control', required:true %>
		</div>
		<br/>
		<div class="actions">
		<%= f.submit "Salvar",class:"btn btn-primary",style:"float: right;" %>
		</div>
	</div> 
<% end %>  
<style> 
.progress{
  transition: 0.05s;
  height: 3px;
  margin-top: -3px;
  border-bottom-right-radius: 0.25rem;
  border-bottom-left-radius: 0.25rem;
  border-top-right-radius: 0rem;
  border-top-left-radius: 0rem; 
  border: 1px solid #d0d6db;
  border-top: none;
}
.admin_cpf_errors{ 
  margin-top: -30px; 
  float: right;
  padding-right: 9px;
  color: #bd0000;
  font-weight: bolder;
}
.nome_user{
	margin-top: 52px;
    margin-left: 9px;
}
.nome_user h5{
	font-size: 19px;padding-right: 12px;font-weight: bolder;
}
#papel_de_fundo{
	height:100px;
	background: rgb(2,0,36);
	background: linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(9,9,121,1) 35%, rgba(0,255,145,1) 100%);
}
#foto_avatar{ 
	text-align: left;
    margin-left: 11px;
    margin-top: -95px;
    display: flex;
}
.foto_edit{
  width: 100px;
  height: 100px;
  margin: auto;
  padding: 0px;
  margin-top: 27px;
  border: 4px solid transparent;
  border-radius: 7.25rem !important;
  object-fit: cover;
}
.foto_edit_edit{
	background: #b0deff;
    position: absolute;
    left: 81px;
    border-radius: 50%;
    color: #0b386b;
    border: 1px solid white;
    top: 200px;
}    
  
.foto_edit_edit:hover{
	background: #83cbff; 
	color: #042142; 
    position: absolute;
    left: 81px;
    border-radius: 50%; 
    border: 1px solid white;
    top: 200px;
}  
</style>
